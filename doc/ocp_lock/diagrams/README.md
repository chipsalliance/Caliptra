# Diagrams

The following diagrams illustrate the OCP L.O.C.K. commands.

To regenerate SVG files, download [PlantUML](https://plantuml.com/download) and run:

```
$ java -jar path/to/plant_uml.jar  -tsvg *.uml
```

## Power on

![Alt text](./power_on.svg)
<img src="./power_on.svg">

([UML source](./power_on.uml))

## Get status

![Alt text](./get_status.svg)
<img src="./get_status.svg">

([UML source](./get_status.uml))

## Get capabilities

![Alt text](./get_capabilities.svg)
<img src="./get_capabilities.svg">

([UML source](./get_capabilities.uml))

## Get algorithms

![Alt text](./get_algorithms.svg)
<img src="./get_algorithms.svg">

([UML source](./get_algorithms.uml))

## Enumerate KEM handles

![Alt text](./enumerate_kem_handles.svg)
<img src="./enumerate_kem_handles.svg">

([UML source](./enumerate_kem_handles.uml))

## Endorse encapsulation pub key

![Alt text](./endorse_encapsulation_pub_key.svg)
<img src="./endorse_encapsulation_pub_key.svg">

([UML source](./endorse_encapsulation_pub_key.uml))

## Generate PMEK

![Alt text](./generate_pmek.svg)
<img src="./generate_pmek.svg">

([UML source](./generate_pmek.uml))

## Unlock PMEK

![Alt text](./unlock_pmek.svg)
<img src="./unlock_pmek.svg">

([UML source](./unlock_pmek.uml))

## Rewrap PMEK

![Alt text](./rewrap_pmek.svg)
<img src="./rewrap_pmek.svg">

([UML source](./rewrap_pmek.uml))

## Include PMEK

![Alt text](./include_pmek.svg)
<img src="./include_pmek.svg">

([UML source](./include_pmek.uml))

## Load MEK

![Alt text](./load_mek.svg)
<img src="./load_mek.svg">

([UML source](./load_mek.uml))

## Receive MEK from Caliptra

![Alt text](./load_mek_into_ee.svg)
<img src="./load_mek_into_ee.svg">

([UML source](./load_mek_into_ee.uml))

## Unload MEK

![Alt text](./unload_mek.svg)
<img src="./unload_mek.svg">

([UML source](./unload_mek.uml))

## Clear key cache

![Alt text](./clear_key_cache.svg)
<img src="./clear_key_cache.svg">

([UML source](./clear_key_cache.uml))

## Rotate Encapsulation Key

![Alt text](./rotate_encapsulation_key.svg)
<img src="./rotate_encapsulation_key.svg">

([UML source](./rotate_encapsulation_key.uml))

## Mix external entropy

![Alt text](./mix_external_entropy.svg)
<img src="./mix_external_entropy.svg">

([UML source](./mix_external_entropy.uml))
